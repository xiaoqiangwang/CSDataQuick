csdq_add_library(csutils
    SOURCES
        utils_global.h
        libCom/calc/postfix.h
        libCom/calc/postfix.c
        libCom/calc/postfixPvt.h
        libCom/calc/calcPerform.c
        libCom/cvtFast/cvtFast.h
        libCom/cvtFast/cvtFast.c
        enums.h
        enums.cpp
        utils.h
        utils.cpp
        conversion.c
        geometryspecification.cpp
    DEFINES
        UTILS_LIBRARY
        $<$<CXX_COMPILER_ID:MSVC>:_CRT_SECURE_NO_WARNINGS>
    PUBLIC_DEPENDS
        Qt${QT_VERSION_MAJOR}::Core
        Qt${QT_VERSION_MAJOR}::Qml
    DEPENDS
        Qt${QT_VERSION_MAJOR}::Gui
        Qt${QT_VERSION_MAJOR}::Quick
        csparser
        csdata
)

target_include_directories(csutils
    PRIVATE
        $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/libCom/calc>
        $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/libCom/cvtFast>
)
